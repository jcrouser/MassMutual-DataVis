---
title: "ColorBrewer and `ggthemes`"
output: 
  html_document:
    css: include/lab.css
    highlight: pygments
    theme: cerulean
    toc: true
    toc_float: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(eval = TRUE, message = FALSE)
```

## Introduction

**Goal**: by the end of this lab, you will be able to use `colorbrewer` and `ggthemes` to customize the look of your visualization.

### Setting up
For this lab, we're going to be using the `ToothGrowth` dataset, which is one of the example datasets included in `R`. It contains data on how fast guinea pigs' teeth grow if you give them vitamin C supplements in various forms and at various doses. You can learn more about this dataset by typing `?ToothGrowth` at the console.

![](gfx/guinea-pigs.jpg)

Let's take a look:

```{r load-ggplot2-lib}
head(ToothGrowth)
summary(ToothGrowth)
```

Hmm... the `dose` column looks a little funny. There are only three doseage values `[0.5,1,2]`, but `R` is interpreting them as continuous. We can tell `R` that we want to convert them to categories (a.k.a. `factors`) using `dplyr` like this:

```{r}
library(dplyr)
ToothGrowth <- ToothGrowth %>%
  mutate(dose = factor(dose))
```

Now let's look again:
```{r}
summary(ToothGrowth)
```

Much better! Now let's draw a graph.

## Drawing a `ggplot`
Remember the basic recipe for building a plot with `ggplot2`? Don't forget to load the library!

1. Make a boxplot of the `ToothGrowth` data, with `x = dose`, `y = len`, and `fill = dose`.<br/> Store it in a variable called `myPlot`.

```{r}

# Put your code here

```


```{r, include=FALSE}
#-----------------------------------
# Included for testing purposes only
#-----------------------------------
library(ggplot2)
myPlot <- ggplot(ToothGrowth, 
                 aes(x = dose, 
                     y = len, 
                     fill = dose)) +
  geom_boxplot()
```

## Changing colors manually
The default colors `R` selects are okay, but maybe we can do better. Let's try using colors from the Smith College official [Color Palette](https://www.smith.edu/about-smith/interactive-style-guide/color-palette). We can specify the color values we want using `scale_fill_manual()` like this:

```{r}
myPlot + scale_fill_manual(values = c("#004f71", "#465a01", "#981d97"))
```

## Changing colors with `RColorBrewer`
That looks pretty nice, but we could spend an awful lot of time making tiny tweaks to color palettes. Luckily Cynthia Brewer over at [ColorBrewer](http://colorbrewer2.org) has come up with some really good ones we can borrow! Let's load the `RColorBrewer` library and check it out. **Note:** you might need to `install.packages('RColorBrewer')` if you're running `R` on your laptop.

```{r}
library(RColorBrewer)
display.brewer.all()
```

Ooh, so many choices! We can now use these `palettes` along with `scale_fill_brewer()` to make perceptually-optimized plots:

```{r}
myPlot + scale_fill_brewer(palette = "Set3")
```

That looks a little bit... Valentine-y?

<img src="gfx/hearts.jpg" width=50% />

2. Try out a few other color palettes!
```{r}
# Put your code here
```

## Stylizing using `ggthemes`
If we want even more control, we can use the `ggthemes` package to define not only the color palette, but the overall style of the plot as well. For example, if we want the minic the style used by the graphic design team at  [The Economist](http://www.economist.com), we could say:

```{r}
library(ggthemes)
myPlot + theme_economist() + scale_fill_economist()
```

Notice how the background changed colors, the axes were re-styled, and the legend changed positions? You can read more about available `ggthemes` and `scales` [here](https://cran.r-project.org/web/packages/ggthemes/vignettes/ggthemes.html).