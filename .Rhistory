arrange(desc(total)) %>%
head(1) %>%
select(year)
}
most_popular_year("Logan")
most_popular_year <- function(name_arg) {
babynames %>%
filter(name == name_arg) %>%
group_by(year) %>%
summarise(total = sum(prop)) %>%
arrange(desc(total)) %>%
head(1) %>%
select(year)
}
most_popular_year("Logan")
most_popular_year("Jordan")
most_popular_year <- function(name_arg) {
babynames %>%
filter(name == name_arg) %>%
group_by(year) %>%
summarise(total = sum(prop)) %>%
arrange(desc(total)) %>%
head(1) %>%
select(year)
}
most_popular_year("Olivia")
most_popular_year("Regina")
most_popular_year("Rami")
most_popular_year("Mahershala")
formals(most_popular_year)
most_popular_year <- function(name_arg) {
babynames %>%
filter(name == name_arg) %>%
group_by(year) %>%
summarise(total = sum(prop)) %>%
arrange(desc(total)) %>%
head(1) %>%
select(year)
}
most_popular_year("Olivia")
most_popular_year("Regina")
most_popular_year("Rami")
most_popular_year(1.67)
formals(pivot_longer)
?most_popular_year
formals(most_popular_year)
most_popular_year <- function(name_arg) {
most_pop_year <- babynames %>%
filter(name == name_arg) %>%
group_by(year) %>%
summarise(total = sum(prop)) %>%
arrange(desc(total)) %>%
head(1) %>%
select(year)
return(most_pop_year)
}
most_popular_year("Olivia")
most_popular_year("Regina")
most_popular_year("Rami")
most_popular_year("Mahershala")
most_popular_year <- function(name_arg) {
most_pop_year <- babynames %>%
filter(name == name_arg) %>%
group_by(year) %>%
summarise(total = sum(prop)) %>%
arrange(desc(total)) %>%
head(1) %>%
select(year)
return(most_pop_year)
}
most_popular_year("Olivia")
most_popular_year("Regina")
most_popular_year("Rami")
most_popular_year("Mahershala")
most_pop_year
most_popular_year <- function(name_arg) {
most_pop_year <- babynames %>%
filter(name == name_arg) %>%
group_by(year) %>%
summarise(total = sum(prop)) %>%
arrange(desc(total)) %>%
head(1) %>%
select(year)
return(most_pop_year)
}
most_popular_year()
most_popular_year_with_default <- function(name_arg = "Jordan") {
most_pop_year <- babynames %>%
filter(name == name_arg) %>%
group_by(year) %>%
summarise(total = sum(prop)) %>%
arrange(desc(total)) %>%
head(1) %>%
select(year)
return(most_pop_year)
}
most_popular_year_with_default()
most_popular_year_with_default <- function(name_arg = "Jordan") {
most_pop_year <- babynames %>%
filter(name == name_arg) %>%
group_by(year) %>%
summarise(total = sum(prop)) %>%
arrange(desc(total)) %>%
head(1) %>%
select(year)
return(most_pop_year)
}
most_popular_year_with_default("Logan")
most_popular_year_with_default <- function(name_arg = "Jordan") {
most_pop_year <- babynames %>%
filter(name == name_arg) %>%
group_by(year) %>%
summarise(total = sum(prop)) %>%
arrange(desc(total)) %>%
head(1) %>%
select(year)
return(most_pop_year)
}
most_popular_year_with_default(name_arg = "Logan")
detach(babynames)
detach("package:babynames", unload = TRUE)
most_popular_year_with_default(name_arg = "Logan")
library(tidyverse)
library(babynames)
library(tidyverse)
most_popular_year <- function(name_arg) {
most_pop_year <- babynames %>%
filter(name == name_arg) %>%
group_by(year) %>%
summarise(total = sum(prop)) %>%
arrange(desc(total)) %>%
head(1) %>%
select(year)
return(most_pop_year)
}
most_popular_year("Olivia")
most_popular_year("Regina")
most_popular_year("Rami")
most_popular_year("Mahershala")
detach("package:babynames", unload=TRUE)
most_popular_year <- function(name_arg) {
most_pop_year <- babynames %>%
filter(name == name_arg) %>%
group_by(year) %>%
summarise(total = sum(prop)) %>%
arrange(desc(total)) %>%
head(1) %>%
select(year)
return(most_pop_year)
}
most_popular_year("Olivia")
library("babynames", lib.loc="/Library/Frameworks/R.framework/Versions/3.6/Resources/library")
most_popular_year <- function(name_arg) {
most_pop_year <- babynames %>%
filter(name == name_arg) %>%
group_by(year) %>%
summarise(total = sum(prop)) %>%
arrange(desc(total)) %>%
head(1) %>%
select(year)
return(most_pop_year)
}
most_popular_year("Olivia")
most_popular_year("Regina")
most_popular_year("Rami")
most_popular_year("Mahershala")
detach("package:babynames", unload=TRUE)
library("babynames", lib.loc="/Library/Frameworks/R.framework/Versions/3.6/Resources/library")
library(tidyverse)
library(babynames)
detach("package:babynames", unload = TRUE)
most_popular_year_with_default(name_arg = "Logan")
most_popular_year_v2 <- function(data, name_arg = "Jordan") {
most_pop_year <- data %>%
filter(name == name_arg) %>%
group_by(year) %>%
summarise(total = sum(prop)) %>%
arrange(desc(total)) %>%
head(1) %>%
select(year)
return(most_pop_year)
}
most_popular_year_v2(babynames)
library("babynames", lib.loc="/Library/Frameworks/R.framework/Versions/3.6/Resources/library")
most_popular_year_v2 <- function(data, name_arg = "Jordan") {
most_pop_year <- data %>%
filter(name == name_arg) %>%
group_by(year) %>%
summarise(total = sum(prop)) %>%
arrange(desc(total)) %>%
head(1) %>%
select(year)
return(most_pop_year)
}
most_popular_year_v2(babynames)
most_popular_year_v2 <- function(data, name_arg = "Jordan") {
most_pop_year <- data %>%
filter(name == name_arg) %>%
group_by(year) %>%
summarise(total = sum(prop)) %>%
arrange(desc(total)) %>%
head(1) %>%
select(year)
return(most_pop_year)
}
babynames %>%
most_popular_year_v2()
most_popular_year_v2 <- function(data, name_arg = "Jordan") {
most_pop_year <- data %>%
filter(name == name_arg) %>%
group_by(year) %>%
summarise(total = sum(prop)) %>%
arrange(desc(total)) %>%
head(1) %>%
select(year)
return(most_pop_year)
}
babynames %>%
most_popular_year_v2("Logan")
most_popular_year_v2 <- function(data, name_arg = "Jordan") {
most_pop_year <- data %>%
filter(name == name_arg) %>%
group_by(year) %>%
summarise(total = sum(prop)) %>%
arrange(desc(total)) %>%
head(1) %>%
select(year)
return(most_pop_year)
}
babynames %>%
filter(sex == "M") %>%
most_popular_year_v2("Logan")
most_popular_year_v2 <- function(data, name_arg = "Jordan") {
most_pop_year <- data %>%
filter(name == name_arg) %>%
group_by(year) %>%
summarise(total = sum(prop)) %>%
arrange(desc(total)) %>%
head(1) %>%
select(year)
return(most_pop_year)
}
babynames %>%
filter(sex == "F") %>%
most_popular_year_v2("Logan")
most_popular_year_v2 <- function(data, name_arg = "Jordan") {
most_pop_year <- data %>%
filter(name == name_arg) %>%
group_by(year) %>%
#summarise(total = sum(prop)) %>%
arrange(desc(total)) %>%
head(1) %>%
select(year)
return(most_pop_year)
}
babynames %>%
filter(sex == "M") %>%
most_popular_year_v2("Logan")
most_popular_year_v2 <- function(data, name_arg = "Jordan") {
most_pop_year <- data %>%
filter(name == name_arg) %>%
group_by(year) %>%
summarise(total = sum(prop)) %>%
arrange(desc(total)) %>%
head(1) %>%
select(year)
return(most_pop_year)
}
babynames %>%
filter(year < 2000) %>%
most_popular_year_v2("Logan")
most_popular_year_v2 <- function(data, name_arg = "Jordan") {
most_pop_year <- data %>%
filter(name == name_arg) %>%
group_by(year) %>%
summarise(total = sum(prop)) %>%
arrange(desc(total)) %>%
head(1) %>%
select(year)
return(most_pop_year)
}
babynames %>%
#filter(year < 2000) %>%
most_popular_year_v2("Logan")
most_popular_year_v2(babynames, "Morganne")
most_popular_year_v2(babynames, "Morganne")
most_popular_year_v2("Morganne", babynames)
most_popular_year_v2(babynames, "Morganne")
most_popular_year_v2("Morganne", babynames)
most_popular_year_v2(babynames, "Morganne")
#most_popular_year_v2("Morganne", babynames)
most_popular_year_v2(name_arg = "Morganne", data = babynames)
View(most_popular_year)
most_popular_year(name_arg = "Larry")
most_popular_year(name_arg = "Moe")
most_popular_year(name_arg = "Curly")
jordan_family = c("Jordan", "Morganne", "Logan", "Charlie")
map(jordan_family, most_popular_year)
jordan_family = c("Jordan", "Morganne", "Logan", "Charlie")
result <- map(jordan_family, most_popular_year)
jordan_family = c("Jordan", "Morganne", "Logan", "Charlie")
result <- map_df(jordan_family, most_popular_year)
View(result)
jordan_family = c("Jordan", "Morganne", "Logan", "Charlie")
result <- map_list(jordan_family, most_popular_year)
jordan_family = c("Jordan", "Morganne", "Logan", "Charlie")
result <- map_tbl(jordan_family, most_popular_year)
?map
jordan_family = c("Jordan", "Morganne", "Logan", "Charlie")
result <- map_int(jordan_family, most_popular_year)
jordan_family = c("Jordan", "Morganne", "Logan", "Charlie")
result <- map_df(jordan_family, most_popular_year)
top10 <- function(data) {
data %>%
group_by(name) %>%
summarise(births = sum(n)) %>%
arrange(desc(births)) %>%
head(10)
}
top10(data = babynames)
top10 <- function(data) {
data %>%
group_by(name) %>%
summarise(births = sum(n)) %>%
arrange(desc(births)) %>%
head(10)
}
babynames %>%
mutate(decade = floor(year / 10) * 10) %>%
group_split(decade) %>%
map_df(top10, .id = "decade")
top10 <- function(data) {
data %>%
group_by(name) %>%
summarise(births = sum(n)) %>%
arrange(desc(births)) %>%
head(10)
}
babynames %>%
mutate(decade = floor(year / 10) * 10)
top10 <- function(data) {
data %>%
group_by(name) %>%
summarise(births = sum(n)) %>%
arrange(desc(births)) %>%
head(10)
}
babynames %>%
mutate(decade = floor(year / 10) * 10) %>%
group_split(decade) %>%
map_df(top10)
top10 <- function(data) {
data %>%
group_by(name) %>%
summarise(births = sum(n)) %>%
arrange(desc(births)) %>%
head(10)
}
babynames %>%
mutate(decade = floor(year / 10) * 10) %>%
group_split(decade) %>%
map_df(top10, .id = "decade")
top_by_decade <- babynames %>%
mutate(decade = floor(year / 10) * 10) %>%
group_by(decade) %>%
group_modify(~top10(.))
View(top_by_decade)
nrow(top_by_decade)
knitr::opts_chunk$set(echo = TRUE)
library(modelr)
wages <- heights %>% filter(income > 0)
View(wages)
?lm
model_education_vs_income <- lm(log(income) ~ education,
data = wages)
model_education_vs_income <- lm(log(income) ~ education,
data = wages)
model_education_vs_income
model_education_vs_income <- lm(log(income) ~ education,
data = wages)
summary(model_education_vs_income)
heights %>%
filter(income > 0) %>%
lm(log(income) ~ education)
heights %>%
filter(income > 0) %>%
lm(log(income) ~ education, data = .)
library(modelr)
library(broom)
wages <- heights %>% filter(income > 0)
model_education_vs_income <- lm(log(income) ~ education,
data = wages)
model_education_vs_income %>% tidy()
model_education_vs_income <- lm(log(income) ~ education,
data = wages)
model_education_vs_income %>% tidy()
model_education_vs_income %>% glance()
model_education_vs_income <- lm(log(income) ~ education,
data = wages)
model_education_vs_income %>% tidy()
model_education_vs_income %>% glance()
model_education_vs_income %>% augment()
model_education_vs_income <- lm(log(income) ~ education,
data = wages)
model_education_vs_income %>% tidy()
model_education_vs_income %>% glance()
model_education_vs_income %>% augment(data = wages)
rlang::last_error()
wages %>% summary()
library(modelr)
library(broom)
wages <- heights %>% filter(income > 0, !is.na(education))
model_education_vs_income <- lm(log(income) ~ education,
data = wages)
model_education_vs_income %>% tidy()
model_education_vs_income %>% glance()
model_education_vs_income %>% augment(data = wages)
?augment
library(modelr)
library(broom)
wages <- heights %>% filter(income > 0)
model_education_vs_income <- lm(log(income) ~ education,
data = wages)
model_education_vs_income %>% tidy()
model_education_vs_income %>% glance()
model_education_vs_income %>% augment(data = wages, na.omit = TRUE)
model_education_vs_income <- lm(log(income) ~ education,
data = wages)
model_education_vs_income %>% tidy()
model_education_vs_income %>% glance()
model_education_vs_income %>% augment(data = wages, na.action = "na.exclude")
model_education_vs_income <- lm(log(income) ~ education,
data = wages)
model_education_vs_income %>% tidy()
model_education_vs_income %>% glance()
model_education_vs_income %>% augment(data = wages)
library(modelr)
library(broom)
wages <- heights %>% filter(income > 0, !is.na(education))
library(modelr)
library(broom)
wages <- heights %>% filter(income > 0, !is.na(education))
model_education_vs_income <- lm(log(income) ~ education,
data = wages)
model_education_vs_income %>% tidy()
model_education_vs_income %>% glance()
model_education_vs_income %>% augment(data = wages)
model_height_vs_income <- wages %>%
lm(log(income) ~ height, data = .)
model_height_vs_income <- wages %>%
lm(log(income) ~ height, data = .)
model_height_vs_income
model_height_vs_income <- wages %>%
lm(log(income) ~ height, data = .)
model_height_vs_income %>% tidy()
model_height_vs_income <- wages %>%
lm(log(income) ~ height, data = .)
model_height_vs_income %>% tidy()
model_height_vs_income %>% glance()
model_height_vs_income <- wages %>%
lm(log(income) ~ height, data = .)
model_height_vs_income %>% tidy()
model_height_vs_income %>%
glance() %>%
select(adj.r.squared, p.value)
wages %>%
qplot(y = height, color = sex)
wages %>%
lm(height ~ sex, data = .)
wages %>%
lm(height ~ sex, data = .) %>%
tidy()
wages %>%
lm(height ~ sex, data = .) %>%
tidy()
wages %>% ggplot(aes(y = height, x = sex)) + geom_boxplot()
wages %>% lm(log(income) ~ education + height + sex, data = .) %>% tidy()
wages %>% lm(log(income) ~ education + height + sex, data = .)
wages %>% lm(log(income) ~ education + height + sex, data = .) %>% summary()
wages %>% lm(log(income) ~ height + sex, data = .) %>% summary()
wages %>% lm(log(income) ~ education + sex, data = .) %>%
wages %>% lm(log(income) ~ education + sex, data = .)
wages %>% lm(log(income) ~ education + sex, data = .) %>% summary()
wages %>% lm(log(income) ~ education + height + sex, data = .) %>% summary()
model_full <- wages %>% lm(log(income) ~ education + height + sex, data = .) %>% summary()
add_predictions(wages, model_full)
model_full <- wages %>% lm(log(income) ~ education + height + sex, data = .)
add_predictions(wages, model_full)
add_predictions(wages, model_full) %>%
select(wages, pred)
add_predictions(wages, model_full)
add_predictions(wages, model_full) %>%
select(income, pred)
add_predictions(wages, model_full) %>%
select(log(income), pred)
add_predictions(wages, model_full) %>%
select(income, pred) %>%
mutate(log.income = log(income))
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("/Users/jcrouser/Google Drive/Synergistic Activities/MassMutual/2020/MassMutual-DataVis")
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("/Users/jcrouser/Google Drive/Synergistic Activities/MassMutual/2021/MassMutual-DataVis")
#render site.
rmarkdown::render_site()
#render site.
rmarkdown::render_site()
